# Задача 3

>Плотность кодирования — это количество битов данных, которое можно закодировать в каждый пиксель изображения. Чем больше плотность кодирования, тем больше информации можно спрятать в изображении. Однако слишком высокая плотность может привести к заметным искажениям изображения.

Разработчикам нужно определить, сколько информации можно скрыть в изображении незаметно. Твоя задача — автоматически посчитать максимально возможную плотность кодирования, используя метрики MSE и PSNR.

**Задача:**
- Создай файл `task_3.py`.
- Напиши функцию `encode_pixels(image, binary_data, bits)`, которая кодирует данные в изображение с варьируемой плотностью кодирования. Она должна принимать следующие аргументы:
  - изображение, открытое библиотекой `Pillow`;
  - бинарные данные для кодирования;
  - плотность кодирования в битах — целое число от `1` до `8`.


- Напиши функцию `find_max_density(image, binary_data, mse_threshold, psnr_threshold)`, которая перебирает разные значения плотности кодирования и после каждого шага сравнивает изображение с оригиналом по метрикам MSE и PSNR. Она должна принимать следующие аргументы:
  - изображение, открытое библиотекой `Pillow`;
  - бинарные данные для кодирования;
  - порог допустимого значения MSE;
  - порог допустимого значения PSNR.

  Установи пороговые значения MSE и PSNR для остановки процесса кодирования. По умолчанию пороговые значения должны быть установлены в следующие значения:
    - для MSE — 500 единиц,
    - для PSNR — 30 dB.


- Запусти функцию `find_max_density(...)` с изображением и данными, которые нужно закодировать.


- Функция должна выводить одно число — максимальную плотность кодирования (бит на пиксель), при которой изображение остаётся визуально неизменным. Если качество изображения ухудшается (MSE превышает порог или PSNR падает ниже допустимого уровня), процесс проверки останавливается.

Например, если максимальная безопасная плотность кодирования — 5 бит на пиксель, то функция выводит:
  ```text
  5
  ```

